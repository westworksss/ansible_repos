import pygame
import random

# Initialize Pygame
pygame.init()

# Set up the screen dimensions
screen_width = 800
screen_height = 600
screen = pygame.display.set_mode((screen_width, screen_height))

# Set up the player
player_width = 64
player_height = 64
player_x = 50
player_y = screen_height - player_height - 50
player_speed = 5
player_jump = 15
player_jump_speed = 0
player_image = pygame.image.load('player.png')

# Set up the ground
ground_width = screen_width
ground_height = 50
ground_x = 0
ground_y = screen_height - ground_height
ground_color = (100, 100, 100)

# Set up the obstacles
obstacle_width = 64
obstacle_height = 64
obstacle_x = screen_width
obstacle_y = screen_height - obstacle_height - 50
obstacle_speed = 10
obstacle_image = pygame.image.load('obstacle.png')

# Set up the coins
coin_width = 32
coin_height = 32
coin_x = screen_width
coin_y = random.randint(50, screen_height - coin_height - ground_height - 50)
coin_speed = 10
coin_image = pygame.image.load('coin.png')

# Set up the score
score = 0
font = pygame.font.Font(None, 50)

# Game loop
running = True
while running:
    # Event loop
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            running = False
        elif event.type == pygame.KEYDOWN:
            if event.key == pygame.K_SPACE:
                if player_jump_speed == 0:
                    player_jump_speed = player_jump
    
    # Move the player
    keys = pygame.key.get_pressed()
    if keys[pygame.K_LEFT] and player_x > 0:
        player_x -= player_speed
    if keys[pygame.K_RIGHT] and player_x < screen_width - player_width:
        player_x += player_speed
    
    # Make the player jump
    if player_jump_speed != 0:
        player_y -= player_jump_speed
        player_jump_speed -= 1
        if player_y >= screen_height - player_height - 50:
            player_y = screen_height - player_height - 50
            player_jump_speed = 0
    
    # Move the ground
    ground_x -= obstacle_speed
    if ground_x <= -ground_width:
        ground_x = 0
    
    # Move the obstacles
    obstacle_x -= obstacle_speed
    if obstacle_x <= -obstacle_width:
        obstacle_x = screen_width
        obstacle_y = screen_height - obstacle_height - 50
    if obstacle_x < player_x + player_width and obstacle_x + obstacle_width > player_x and obstacle_y < player_y + player_height and obstacle_y + obstacle_height > player_y:
        running = False
    
    # Move the coins
    coin_x -= coin_speed
    if coin_x <= -coin_width:
        coin_x = screen_width
        coin_y = random.randint(50, screen_height - coin_height - ground_height - 50)
    if coin_x < player_x + player_width and coin_x + coin_width > player_x and coin_y < player_y + player_height and coin_y + coin_height > player_y:
        score += 10
        coin_x = screen_width
        coin_y = random.randint(50, screen_height - coin_height - ground_height - 50)
